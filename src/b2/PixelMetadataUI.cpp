#include <shared/system.h>
#include "PixelMetadataUI.h"
#include "BeebWindow.h"
#include "dear_imgui.h"
#include <beeb/video.h>

//////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////

PixelMetadataUI::PixelMetadataUI(BeebWindow *beeb_window):
    m_beeb_window(beeb_window)
{
}

//////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////

void PixelMetadataUI::DoImGui(CommandContextStack *cc_stack) {
    (void)cc_stack;

    if(const VideoDataHalfUnitMetadata *m=m_beeb_window->GetMetadataForMousePixel()) {
        if(!(m->addr&0x8000)) {
            ImGui::Text("Address: $%04X",m->addr);
        }
    }
}

//////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////

bool PixelMetadataUI::OnClose() {
    return false;
}

//////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////
