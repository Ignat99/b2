ifeq ($(OS),Windows_NT)

MKDIR:=mkdir.exe -p
TASS:=../64tass-1.52.1237/64tass.exe

else

MKDIR:=mkdir -p
TASS:=64tass

endif

SRC:=ascii-src
LST:=ascii-lst
BIN:=ascii-bin

.PHONY:all
all:
	$(MKDIR) $(LST) $(BIN)
	$(MAKE) asm "STEM=adca"
	$(MAKE) asm "STEM=adcax"
	$(MAKE) asm "STEM=adcay"
	$(MAKE) asm "STEM=adcb"
	$(MAKE) asm "STEM=adcix"
	$(MAKE) asm "STEM=adciy"
	$(MAKE) asm "STEM=adcz"
	$(MAKE) asm "STEM=adczx"
	$(MAKE) asm "STEM=alrb"
	$(MAKE) asm "STEM=ancb"
	$(MAKE) asm "STEM=anda"
	$(MAKE) asm "STEM=andax"
	$(MAKE) asm "STEM=anday"
	$(MAKE) asm "STEM=andb"
	$(MAKE) asm "STEM=andix"
	$(MAKE) asm "STEM=andiy"
	$(MAKE) asm "STEM=andz"
	$(MAKE) asm "STEM=andzx"
	$(MAKE) asm "STEM=aneb"
	$(MAKE) asm "STEM=arrb"
	$(MAKE) asm "STEM=asla"
	$(MAKE) asm "STEM=aslax"
	$(MAKE) asm "STEM=asln"
	$(MAKE) asm "STEM=aslz"
	$(MAKE) asm "STEM=aslzx"
	$(MAKE) asm "STEM=asoa"
	$(MAKE) asm "STEM=asoax"
	$(MAKE) asm "STEM=asoay"
	$(MAKE) asm "STEM=asoix"
	$(MAKE) asm "STEM=asoiy"
	$(MAKE) asm "STEM=asoz"
	$(MAKE) asm "STEM=asozx"
	$(MAKE) asm "STEM=axsa"
	$(MAKE) asm "STEM=axsix"
	$(MAKE) asm "STEM=axsz"
	$(MAKE) asm "STEM=axszy"
	$(MAKE) asm "STEM=bccr"
	$(MAKE) asm "STEM=bcsr"
	$(MAKE) asm "STEM=beqr"
	$(MAKE) asm "STEM=bita"
	$(MAKE) asm "STEM=bitz"
	$(MAKE) asm "STEM=bmir"
	$(MAKE) asm "STEM=bner"
	$(MAKE) asm "STEM=bplr"
	$(MAKE) asm "STEM=brkn"
	$(MAKE) asm "STEM=bvcr"
	$(MAKE) asm "STEM=bvsr"
	$(MAKE) asm "STEM=cia1pb6"
	$(MAKE) asm "STEM=cia1pb7"
	$(MAKE) asm "STEM=cia1ta"
	$(MAKE) asm "STEM=cia1tab"
	$(MAKE) asm "STEM=cia1tb"
	$(MAKE) asm "STEM=cia1tb123"
	$(MAKE) asm "STEM=cia2pb6"
	$(MAKE) asm "STEM=cia2pb7"
	$(MAKE) asm "STEM=cia2ta"
	$(MAKE) asm "STEM=cia2tb"
	$(MAKE) asm "STEM=cia2tb123"
	$(MAKE) asm "STEM=clcn"
	$(MAKE) asm "STEM=cldn"
	$(MAKE) asm "STEM=clin"
	$(MAKE) asm "STEM=clvn"
	$(MAKE) asm "STEM=cmpa"
	$(MAKE) asm "STEM=cmpax"
	$(MAKE) asm "STEM=cmpay"
	$(MAKE) asm "STEM=cmpb"
	$(MAKE) asm "STEM=cmpix"
	$(MAKE) asm "STEM=cmpiy"
	$(MAKE) asm "STEM=cmpz"
	$(MAKE) asm "STEM=cmpzx"
	$(MAKE) asm "STEM=cntdef"
	$(MAKE) asm "STEM=cnto2"
	$(MAKE) asm "STEM=cpuport"
	$(MAKE) asm "STEM=cputiming"
	$(MAKE) asm "STEM=cpxa"
	$(MAKE) asm "STEM=cpxb"
	$(MAKE) asm "STEM=cpxz"
	$(MAKE) asm "STEM=cpya"
	$(MAKE) asm "STEM=cpyb"
	$(MAKE) asm "STEM=cpyz"
	$(MAKE) asm "STEM=dcma"
	$(MAKE) asm "STEM=dcmax"
	$(MAKE) asm "STEM=dcmay"
	$(MAKE) asm "STEM=dcmix"
	$(MAKE) asm "STEM=dcmiy"
	$(MAKE) asm "STEM=dcmz"
	$(MAKE) asm "STEM=dcmzx"
	$(MAKE) asm "STEM=deca"
	$(MAKE) asm "STEM=decax"
	$(MAKE) asm "STEM=decz"
	$(MAKE) asm "STEM=deczx"
	$(MAKE) asm "STEM=dexn"
	$(MAKE) asm "STEM=deyn"
	$(MAKE) asm "STEM=eora"
	$(MAKE) asm "STEM=eorax"
	$(MAKE) asm "STEM=eoray"
	$(MAKE) asm "STEM=eorb"
	$(MAKE) asm "STEM=eorix"
	$(MAKE) asm "STEM=eoriy"
	$(MAKE) asm "STEM=eorz"
	$(MAKE) asm "STEM=eorzx"
	$(MAKE) asm "STEM=flipos"
	$(MAKE) asm "STEM=icr01"
	$(MAKE) asm "STEM=imr"
	$(MAKE) asm "STEM=inca"
	$(MAKE) asm "STEM=incax"
	$(MAKE) asm "STEM=incz"
	$(MAKE) asm "STEM=inczx"
	$(MAKE) asm "STEM=insa"
	$(MAKE) asm "STEM=insax"
	$(MAKE) asm "STEM=insay"
	$(MAKE) asm "STEM=insix"
	$(MAKE) asm "STEM=insiy"
	$(MAKE) asm "STEM=insz"
	$(MAKE) asm "STEM=inszx"
	$(MAKE) asm "STEM=inxn"
	$(MAKE) asm "STEM=inyn"
	$(MAKE) asm "STEM=irq"
	$(MAKE) asm "STEM=jmpi"
	$(MAKE) asm "STEM=jmpw"
	$(MAKE) asm "STEM=jsrw"
	$(MAKE) asm "STEM=lasay"
	$(MAKE) asm "STEM=laxa"
	$(MAKE) asm "STEM=laxay"
	$(MAKE) asm "STEM=laxix"
	$(MAKE) asm "STEM=laxiy"
	$(MAKE) asm "STEM=laxz"
	$(MAKE) asm "STEM=laxzy"
	$(MAKE) asm "STEM=ldaa"
	$(MAKE) asm "STEM=ldaax"
	$(MAKE) asm "STEM=ldaay"
	$(MAKE) asm "STEM=ldab"
	$(MAKE) asm "STEM=ldaix"
	$(MAKE) asm "STEM=ldaiy"
	$(MAKE) asm "STEM=ldaz"
	$(MAKE) asm "STEM=ldazx"
	$(MAKE) asm "STEM=ldxa"
	$(MAKE) asm "STEM=ldxay"
	$(MAKE) asm "STEM=ldxb"
	$(MAKE) asm "STEM=ldxz"
	$(MAKE) asm "STEM=ldxzy"
	$(MAKE) asm "STEM=ldya"
	$(MAKE) asm "STEM=ldyax"
	$(MAKE) asm "STEM=ldyb"
	$(MAKE) asm "STEM=ldyz"
	$(MAKE) asm "STEM=ldyzx"
	$(MAKE) asm "STEM=loadth"
	$(MAKE) asm "STEM=lsea"
	$(MAKE) asm "STEM=lseax"
	$(MAKE) asm "STEM=lseay"
	$(MAKE) asm "STEM=lseix"
	$(MAKE) asm "STEM=lseiy"
	$(MAKE) asm "STEM=lsez"
	$(MAKE) asm "STEM=lsezx"
	$(MAKE) asm "STEM=lsra"
	$(MAKE) asm "STEM=lsrax"
	$(MAKE) asm "STEM=lsrn"
	$(MAKE) asm "STEM=lsrz"
	$(MAKE) asm "STEM=lsrzx"
	$(MAKE) asm "STEM=lxab"
	$(MAKE) asm "STEM=mmu"
	$(MAKE) asm "STEM=mmufetch"
	$(MAKE) asm "STEM=nmi"
	$(MAKE) asm "STEM=nopa"
	$(MAKE) asm "STEM=nopax"
	$(MAKE) asm "STEM=nopb"
	$(MAKE) asm "STEM=nopn"
	$(MAKE) asm "STEM=nopz"
	$(MAKE) asm "STEM=nopzx"
	$(MAKE) asm "STEM=oneshot"
	$(MAKE) asm "STEM=oraa"
	$(MAKE) asm "STEM=oraax"
	$(MAKE) asm "STEM=oraay"
	$(MAKE) asm "STEM=orab"
	$(MAKE) asm "STEM=oraix"
	$(MAKE) asm "STEM=oraiy"
	$(MAKE) asm "STEM=oraz"
	$(MAKE) asm "STEM=orazx"
	$(MAKE) asm "STEM=phan"
	$(MAKE) asm "STEM=phpn"
	$(MAKE) asm "STEM=plan"
	$(MAKE) asm "STEM=plpn"
	$(MAKE) asm "STEM=rlaa"
	$(MAKE) asm "STEM=rlaax"
	$(MAKE) asm "STEM=rlaay"
	$(MAKE) asm "STEM=rlaix"
	$(MAKE) asm "STEM=rlaiy"
	$(MAKE) asm "STEM=rlaz"
	$(MAKE) asm "STEM=rlazx"
	$(MAKE) asm "STEM=rola"
	$(MAKE) asm "STEM=rolax"
	$(MAKE) asm "STEM=roln"
	$(MAKE) asm "STEM=rolz"
	$(MAKE) asm "STEM=rolzx"
	$(MAKE) asm "STEM=rora"
	$(MAKE) asm "STEM=rorax"
	$(MAKE) asm "STEM=rorn"
	$(MAKE) asm "STEM=rorz"
	$(MAKE) asm "STEM=rorzx"
	$(MAKE) asm "STEM=rraa"
	$(MAKE) asm "STEM=rraax"
	$(MAKE) asm "STEM=rraay"
	$(MAKE) asm "STEM=rraix"
	$(MAKE) asm "STEM=rraiy"
	$(MAKE) asm "STEM=rraz"
	$(MAKE) asm "STEM=rrazx"
	$(MAKE) asm "STEM=rtin"
	$(MAKE) asm "STEM=rtsn"
	$(MAKE) asm "STEM=sbca"
	$(MAKE) asm "STEM=sbcax"
	$(MAKE) asm "STEM=sbcay"
	$(MAKE) asm "STEM=sbcb(eb)"
	$(MAKE) asm "STEM=sbcb"
	$(MAKE) asm "STEM=sbcix"
	$(MAKE) asm "STEM=sbciy"
	$(MAKE) asm "STEM=sbcz"
	$(MAKE) asm "STEM=sbczx"
	$(MAKE) asm "STEM=sbxb"
	$(MAKE) asm "STEM=secn"
	$(MAKE) asm "STEM=sedn"
	$(MAKE) asm "STEM=sein"
	$(MAKE) asm "STEM=shaay"
	$(MAKE) asm "STEM=shaiy"
	$(MAKE) asm "STEM=shsay"
	$(MAKE) asm "STEM=shxay"
	$(MAKE) asm "STEM=shyax"
	$(MAKE) asm "STEM=staa"
	$(MAKE) asm "STEM=staax"
	$(MAKE) asm "STEM=staay"
	$(MAKE) asm "STEM=staix"
	$(MAKE) asm "STEM=staiy"
	$(MAKE) asm "STEM=start"
	$(MAKE) asm "STEM=staz"
	$(MAKE) asm "STEM=stazx"
	$(MAKE) asm "STEM=stxa"
	$(MAKE) asm "STEM=stxz"
	$(MAKE) asm "STEM=stxzy"
	$(MAKE) asm "STEM=stya"
	$(MAKE) asm "STEM=styz"
	$(MAKE) asm "STEM=styzx"
	$(MAKE) asm "STEM=taxn"
	$(MAKE) asm "STEM=tayn"
	$(MAKE) asm "STEM=trap1-15"
	$(MAKE) asm "STEM=trap16"
	$(MAKE) asm "STEM=trap17"
	$(MAKE) asm "STEM=tsxn"
	$(MAKE) asm "STEM=txan"
	$(MAKE) asm "STEM=txsn"
	$(MAKE) asm "STEM=tyan"

.PHONY:asm
asm:
	$(TASS) -L "$(LST)/$(STEM).lst" -o "$(BIN)/$(STEM)" -T "$(SRC)/$(STEM).asm"
